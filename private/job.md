---
layout: post
title: 面试题
permalink: /job/
---
* content
{:toc}


## 数据结构与算法

### 跳表的实现
详见 redis skiplist

### 哈夫曼编码

### 无递归不使用额外空间遍历树


## 编程语言

### 垃圾回收


### 装饰器


### asyncio 原理


## 计算机网络

### nginx 负载均衡算法

### nginx 一致性哈希

### apache和nginx的区别


### http2.0


### 幂等


### wsgi


### restful, soap, rpc


### Cookie Session


### csrf, xss, syn 泛洪，中间人攻击
- xss：跨站脚本(攻击)，恶意脚本被嵌入到网页中，访问时执行脚本，导致用户信息、cookie被窃取。
- csrf：跨站请求伪造，劫持已认证用户执行非本意操作。可以通过校验referer，增加token等方式防御。
- 中间人攻击：

### 浏览器输入url后的整个过程

url解析 -> 构造 http 请求 -> DNS 解析 -> 协议栈发送 -> 协议栈接受 -> 服务器 web 程序处理 -> .(相反过程). -> 浏览器渲染，含有链接会继续请求

### keepalive


### http 方法


### 什么是https，提供了什么功能

http + ssl/tsl，属于应用层，位于传输层之上。提供以下安全功能：
- 完整性保护，防止中间人攻击。散列函数 + 鉴别密匙 = 报文鉴别码 (mac)
- 加密，防止。公开密匙加密（+对称密匙），对话密匙是对称加密，公匙用来加密对话密匙。
- 端点鉴别，防止伪装。通过数字签名。


### https 握手过程

涉及四次通信，就通信加密算法达成一致：
- 客户端发出请求，发送支持的加密算法和客户端随机数
- 服务器选择对称算法，公匙算法和mac算法，加上证书+服务器随机数
- 客户端验证证书，提取公匙，生成前主密匙（PMS），使用公匙加密前主密匙并发给服务器；发送整个握手报文的mac
- 客户端服务器两方根据 PMS + 随机数，计算出主密匙（MS），切片成两个会话加密密匙和两个mac密匙；发送整个握手报文的mac


### TCP 协议特点

TCP 是一个面向连接的可靠传输服务。
- 有握手挥手过程
- 保证数据有序、无丢失。数据按照顺序分包。序号的确认应答，超时重传
- 流量控制：
- 拥塞控制：慢启动，拥塞避免，快速重传。

### TCP 握手过程


### TCP 挥手过程


### 握手三次挥手四次的原因


### time_wait 的原因


### 过多 close_wait


### TCP 粘包

### UDP 协议特点

UDP 是一个无连接的不可靠的传输服务。相比TCP：
- 无需连接
- 不保证报文顺序
- 没有拥塞机制

### 如何实现一个相对可靠的 UDP

## 数据库

### mysql 数据类型
- varchar
- char


### mysql 索引
- 主键索引
- 普通索引：对于组合索引，可以利用左前缀原则提升查询性能
- 唯一索引：类似于主键索引，列的值是唯一的，可以为空
- 全文索引：

### 全文索引与 ES

### 数据库索引分类以及特点
索引用于快速定位。
- hash：高查询效率；不适合区间查询；不适合磁盘；要考虑哈希冲突问题
- B 树：有效降低 io；适合磁盘存储
- B/B+：B+ 树中间的检点不存储数据
- 聚集/非聚集：聚集索引在叶节点中存储记录，非聚集存储地址

### 事务中的 acid，隔离级别

- 原子性，一致性，隔离型，持久性
- 未提交读，提交读，可重复度，串行化

### 乐观锁和悲观锁

- 乐观锁：不上锁，但提交时会检测错误
- 悲观锁：每次都会上锁
- 共享锁（读锁）：读事务共享锁，不能获取写锁
- 排他锁（写锁）：一个事务独占，直到释放

### mvvc

### redis 哨兵
- 节点数据复制

### redis 集群
- 

### redis 高可用


## 操作系统

### 操作系统内存管理机制

### unix 进程通信方式

### 线程与进程的区别

### 线程与协程的区别

### 为什么要加锁，锁对性能的影响，死锁的原因
- 加锁为了竞争造成对共享数据的错误修改
- 锁是一种虚拟的资源，会有内存和cpu开销。加锁还会影响并发。锁的粒度；其它方式替代锁。
- 两个线程等待对方释放锁；编码约定

## 综合

### 线程池


### 设计模式

### 最有成就感的项目

### 如何重构
- 确定重构的目标：提高可读性；提高性能等
- 频繁测试


